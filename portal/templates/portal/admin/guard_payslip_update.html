{% extends "portal/base.html" %}
{% load crispy_forms_tags %}

<div class="lg:ml-[250px] p-4">
    {% block content %}

    <div class="flex-1 sm:py-3 w-full left-0">
    
      <div class="flex flex-col md:flex-row gap-4">
        <!-- Form Section (2/3 width on medium screens, full width on small screens) -->
        <div class="w-full md:w-2/3 bg-white p-4 shadow-md rounded-lg">

            <div class="w-full md:w-2/3 bg-white p-6">
                <h2 class="text-2xl font-semibold mb-4">Edit Payslip</h2>
                
                <!-- Payslip Details -->
                <p class="text-lg text-gray-600 mb-4">
                    Editing payslip for <span class="font-semibold text-gray-900">{{ payslip.employee_name }}</span> for the month of <span class="font-semibold text-gray-900">{{ payslip.month }}</span>
                </p>

                <form method="POST">
                    {% csrf_token %}
                    {{ form|crispy }}
                    
                    <!-- Action Buttons -->
                    <div class="flex gap-4 mt-4">
                        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                            Save Changes
                        </button>
                        <a href="{% url 'portal:payslip_list' %}" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                            Back to Payslip List
                        </a>
                    </div>
                </form>
            </div>
        </div>
  
        <div class="bg-white shadow-md rounded p-6">
            <h2 class="text-2xl text-blue-600 font-semibold mb-4">Admin Panel</h2>
            <p class="text-gray-600">
                Update payslip details, such as salary breakdown and deductions, for the employee.
            </p>
            <h3 class="text-xl font-semibold mt-4">Update Instructions</h3>
            <p class="text-gray-700">
                To update the payslip, follow these steps:
            </p>
            <ul class="mt-4 space-y-2 text-gray-700">
                <li>✔ Edit the necessary fields in the form.</li>
                <li>✔ Click the "Save Changes" button.</li>
                <li>✔ The updated payslip will be reflected in the system immediately.</li>
                <li>✔ If an error occurs, review the form and try again.</li>
            </ul>
        </div> 
      </div>

    {% endblock content %}
  </div>
